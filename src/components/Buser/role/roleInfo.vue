<!--集团信息，第四级包裹--><template >  <div class="rightInfo">    <div class="topTitle">      <h4>角色列表</h4>    </div>    <div class="centerContent">      <div class="item user">        <el-row>          <el-input            placeholder="筛选员工"            v-model="filterText">          </el-input>          <el-button type="success" @click="showAddNew=true">新增角色</el-button>          <el-button type="primary" @click="showModuleList=true">从模板复制</el-button>          <el-button type="primary" @click="showModuleList=true">从模板引用</el-button>        </el-row>      </div>      <el-table :data="gridData" border stripe @selection-change="handleSelectionChange" style="width: 100%">          <el-table-column            type="selection"            width="55" >          </el-table-column >          <el-table-column property="ID" label="ID" ></el-table-column>          <el-table-column property="name" label="名称" ></el-table-column>          <el-table-column property="orgName" label="组织名称" ></el-table-column>          <el-table-column  label="操作" width="200">            <template slot-scope="scope">              <el-button @click="showAddNew=true" type="text" size="small">修改</el-button>              <el-button type="text" size="small" @click="showAuthorityList=true" >查看权限</el-button>              <el-button type="text" size="small"  @click="showAuthorityList=true">设置权限</el-button>            </template>          </el-table-column>        </el-table>    </div>    <el-dialog      title="新增用户"      :visible.sync="showAuthorityList"      width="40%"    >      <div style="margin-top:1rem">        <el-tree          show-checkbox          class="filter-tree"          :data="data3"          :props="defaultProps"          default-expand-all          :expand-on-click-node="false"          :filter-node-method="filterNode"          :highlight-current="true"          ref="tree2" >        </el-tree>      </div>      <span slot="footer" class="dialog-footer">         <el-button type="primary" @click="dialogVisible = false">保存</el-button>        <el-button @click="dialogVisible = false">取 消</el-button>      </span>    </el-dialog>    <el-dialog      title="模板列表"      :visible.sync="showModuleList"      width="40%"    >      <el-table :data="gridData" border stripe @selection-change="handleSelectionChange" >        <el-table-column          type="selection"          width="55" >        </el-table-column >        <el-table-column property="roleID" label="角色ID" ></el-table-column>        <el-table-column property="roleName" label="角色名称" ></el-table-column>      </el-table>      <span slot="footer" class="dialog-footer">         <el-button type="primary" @click="dialogVisible = false">确认</el-button>        <el-button @click="dialogVisible = false">取 消</el-button>      </span>    </el-dialog>    <el-dialog      title="新增角色"      :visible.sync="showAddNew"      width="40%"    > <div class="moduleItem">      <span>名称</span><el-input v-model="input" placeholder="请输入内容"></el-input>    </div>      <div class="moduleItem">        <span>别名</span><el-input v-model="input" placeholder="请输入内容"></el-input>      </div>      <div class="moduleItem">        <span>描述</span><el-input v-model="input" placeholder="请输入内容"></el-input>      </div>    </el-dialog>  </div></template><script>    export default {        name: 'groupInfo',        data () {            return {                input:'',                showModuleList:false,                showAddNew:false,                filterText:'',                gridData: [{                    ID: '11111241',                    name: '王小虎',                    orgName:'复创'                }, {                    ID: '11111241',                    name: '王小虎',                    orgName:'复创'                },{                    ID: '11111241',                    name: '王小虎',                    orgName:'复创'                },{                    ID: '11111241',                    name: '王小虎',                    orgName:'复创'                },{                    ID: '11111241',                    name: '王小虎',                    orgName:'复创'                },{                    ID: '11111241',                    name: '王小虎',                    orgName:'复创'                },{                    ID: '11111241',                    name: '王小虎',                    orgName:'复创'                }],                gridData2: [{                    roleID: '11111241',                    roleName: '王小虎'                }, {                    roleID: '11111241',                    roleName: '王小虎'                },{                    roleID: '11111241',                    roleName: '王小虎'                },{                    roleID: '11111241',                    roleName: '王小虎'                },{                    roleID: '11111241',                    roleName: '王小虎'                }],                dialogVisible:false,                data3: [                    {                        "name": "权限列表",                        "subPermissions": [                            {                                "permissionId": "1",                                "name": "第一权限",                                "tag": "root:one",                                "icon": null,                                "description": null,                                "nodeType": "MENU",                                "sortCode": null,                                "subPermissions": [                                    {                                        "name": "第一权限子权限",                                        "tag": "root:one:one",                                        "icon": null,                                        "description": null,                                        "nodeType": "URL",                                        "sortCode": null,                                        "subPermissions": [],                                        "permissionId": "3"                                    }                                ],                            },                            {                                "permissionId": "2",                                "name": "第二权限",                                "tag": "root:two",                                "icon": null,                                "description": null,                                "nodeType": "MENU",                                "sortCode": null,                                "subPermissions": [                                    {                                        "permissionId": "3",                                        "name": "第二权限子权限",                                        "tag": "root:one:one",                                        "icon": null,                                        "description": null,                                        "nodeType": "URL",                                        "sortCode": null,                                        "subPermissions": [],                                    },                                    {                                        "permissionId": "3",                                        "name": "第二权限子权限",                                        "tag": "root:one:one",                                        "icon": null,                                        "description": null,                                        "nodeType": "URL",                                        "sortCode": null,                                        "subPermissions": [                                            {                                                "name": "第二权限子权限的子权限",                                                "tag": "root:one:one",                                                "icon": null,                                                "description": null,                                                "nodeType": "URL",                                                "sortCode": null,                                                "subPermissions": [],                                                "permissionId": "3"                                            }                                        ],                                    }                                ],                            },{                                "name": "第三权限",                                "tag": "root:two",                                "icon": null,                                "description": null,                                "nodeType": "MENU",                                "sortCode": null,                                "subPermissions": [],                                "permissionId": "2"                            }]                    }                ],                defaultProps: {                    children: 'subPermissions',                    label: 'name'                }            }        },        methods:{            handleClick(){            },            handleSelectionChange(){            },            handleClose(){            },            //树节点点击            handleNodeClick(data,node,comp){                console.log('data:',data)                console.log('node:',node)                console.log('comp:',comp)            },            filterNode(value, data) {                if (!value) return true;                return data.name.indexOf(value) !== -1;            },            append(data) {                const newChild = { permissionId:1, name: 'testtest', subPermissions: [] };                if (!data.subPermissions) {                    this.$set(data, 'subPermissions', []);                }                data.subPermissions.push(newChild);            },            remove(node, data) {                const parent = node.parent;                const children = parent.data.subPermissions || parent.data;                const index = children.findIndex(d => d.permissionId === data.permissionId);                children.splice(index, 1);            },        }    }</script><!-- Add "scoped" attribute to limit CSS to this component only --><style lang="less">  .third_wrap .rightWrap .rightInfo .centerContent .item{    width: 100%;  }  .third_wrap .rightWrap .rightInfo .centerContent .item .el-input{    width:30%;    margin-right: 2rem;  }  .addNewUser{    .left{      display: inline-block;      width: 3.5rem;      height: 3rem;      margin-right: 2rem;    }    .el-input{      width: 60%;    }  }</style>